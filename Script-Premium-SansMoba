--[[
    Script: HWIDUserIdSelectorGUI.lua
    Deskripsi: GUI pemilihan antara HWID dan UserId untuk Roblox
    Fitur: 
    - Tampilan modern dengan animasi dan gradien warna yang menarik
    - Tombol HWID dan UserId dengan ikon dan efek interaktif
    - Draggable GUI (dapat digeser) dengan header yang jelas
    - Efek hover dan animasi tekan yang responsif
    - Transisi halus saat membuka/menutup dengan efek bouncing
    - Efek partikel dan glowing pada elemen-elemen UI
    - Shortcut keyboard untuk membuka/menutup (tekan 'M')
]]

-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

-- Variables
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Konstanta untuk Tween
local TWEEN_INFO_OPEN = TweenInfo.new(0.6, Enum.EasingStyle.Elastic, Enum.EasingDirection.Out, 0, false, 0)
local TWEEN_INFO_CLOSE = TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.In, 0, false, 0)
local TWEEN_INFO_BUTTON = TweenInfo.new(0.2, Enum.EasingStyle.Bounce, Enum.EasingDirection.Out, 0, false, 0)
local TWEEN_INFO_HOVER = TweenInfo.new(0.15, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0)

-- Fungsi utilitas untuk membuat elemen GUI
local function createInstance(className, properties)
    local instance = Instance.new(className)
    for property, value in pairs(properties) do
        instance[property] = value
    end
    return instance
end

-- Fungsi untuk membuat tampilan GUI
local function createGUI()
    -- Membuat ScreenGui utama
    local screenGui = createInstance("ScreenGui", {
        Name = "HWIDUserIdSelector",
        ResetOnSpawn = false,
        ZIndexBehavior = Enum.ZIndexBehavior.Sibling,
        Parent = playerGui
    })
    
    -- Frame utama dengan gradien
    local mainFrame = createInstance("Frame", {
        Name = "MainFrame",
        Size = UDim2.new(0, 400, 0, 250),
        Position = UDim2.new(0.5, -200, 0.5, -125),
        BackgroundColor3 = Color3.fromRGB(30, 30, 35),
        BorderSizePixel = 0,
        Visible = false,
        Parent = screenGui
    })
    
    -- Membuat corner untuk tampilan yang lebih modern
    local uiCorner = createInstance("UICorner", {
        CornerRadius = UDim.new(0, 12),
        Parent = mainFrame
    })
    
    -- Gradien untuk latar belakang dengan warna yang lebih menarik
    local uiGradient = createInstance("UIGradient", {
        Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 50, 95)),    -- Biru gelap
            ColorSequenceKeypoint.new(0.3, Color3.fromRGB(55, 65, 120)), -- Biru medium
            ColorSequenceKeypoint.new(0.7, Color3.fromRGB(65, 40, 110)), -- Ungu kebiruan
            ColorSequenceKeypoint.new(1, Color3.fromRGB(45, 25, 70))     -- Ungu gelap
        }),
        Rotation = 45,
        Parent = mainFrame
    })
    
    -- Animasi gradien
    spawn(function()
        local gradientSpeed = 0.2
        local direction = 1
        local currentOffset = 0
        
        while true do
            currentOffset = currentOffset + (gradientSpeed * 0.01 * direction)
            if currentOffset >= 1 then
                direction = -1
                currentOffset = 1
            elseif currentOffset <= 0 then
                direction = 1
                currentOffset = 0
            end
            
            uiGradient.Offset = Vector2.new(currentOffset, 0)
            wait(0.01)
        end
    end)
    
    -- Efek bayangan (Drop Shadow)
    local shadow = createInstance("ImageLabel", {
        Name = "Shadow",
        Size = UDim2.new(1, 30, 1, 30),
        Position = UDim2.new(0, -15, 0, -15),
        BackgroundTransparency = 1,
        Image = "rbxassetid://5554236805",
        ImageColor3 = Color3.fromRGB(0, 0, 0),
        ImageTransparency = 0.6,
        ScaleType = Enum.ScaleType.Slice,
        SliceCenter = Rect.new(23, 23, 277, 277),
        ZIndex = -1,
        Parent = mainFrame
    })
    
    -- Judul dengan efek glow
    local titleGlow = createInstance("ImageLabel", {
        Name = "TitleGlow",
        Size = UDim2.new(1, 40, 0, 60),
        Position = UDim2.new(0, -20, 0, 0),
        BackgroundTransparency = 1,
        Image = "rbxassetid://6491328845",
        ImageColor3 = Color3.fromRGB(100, 180, 255),
        ImageTransparency = 0.7,
        Parent = mainFrame
    })
    
    local titleLabel = createInstance("TextLabel", {
        Name = "TitleLabel",
        Size = UDim2.new(1, -20, 0, 40),
        Position = UDim2.new(0, 10, 0, 10),
        BackgroundTransparency = 1,
        Font = Enum.Font.GothamBold,
        Text = "Pilih Metode Yang Anda Beli",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 22,
        TextStrokeColor3 = Color3.fromRGB(70, 130, 220),
        TextStrokeTransparency = 0.8,
        Parent = mainFrame
    })
    
    -- Animasi pada judul
    spawn(function()
        local titleAnimSpeed = 0.5
        local titleAnimRange = 0.05
        local t = 0
        
        while true do
            t = t + 0.03
            local scale = 1 + math.sin(t * titleAnimSpeed) * titleAnimRange
            titleLabel.TextSize = 22 * scale
            wait(0.01)
        end
    end)
    
    -- Garis pemisah bawah judul
    local titleUnderline = createInstance("Frame", {
        Name = "TitleUnderline",
        Size = UDim2.new(1, -40, 0, 2),
        Position = UDim2.new(0, 20, 0, 55),
        BackgroundColor3 = Color3.fromRGB(85, 95, 150),
        BorderSizePixel = 0,
        Parent = mainFrame
    })
    
    -- Gradient untuk garis dengan warna yang lebih vibrant
    local lineGradient = createInstance("UIGradient", {
        Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 200, 255)),    -- Cyan terang
            ColorSequenceKeypoint.new(0.3, Color3.fromRGB(120, 220, 255)), -- Biru langit
            ColorSequenceKeypoint.new(0.5, Color3.fromRGB(180, 120, 255)), -- Ungu terang
            ColorSequenceKeypoint.new(0.7, Color3.fromRGB(255, 120, 220)), -- Pink
            ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 200, 255))     -- Cyan terang (cycle)
        }),
        Parent = titleUnderline
    })
    
    -- Glow effect pada garis
    local lineGlow = createInstance("ImageLabel", {
        Name = "LineGlow",
        Size = UDim2.new(1, 20, 0, 20),
        Position = UDim2.new(0, -10, 0, -9),
        BackgroundTransparency = 1,
        Image = "rbxassetid://6491328845",
        ImageColor3 = Color3.fromRGB(130, 170, 255),
        ImageTransparency = 0.6,
        Parent = titleUnderline
    })
    
    -- Frame untuk tombol-tombol
    local buttonsFrame = createInstance("Frame", {
        Name = "ButtonsFrame",
        Size = UDim2.new(1, -40, 0, 120),
        Position = UDim2.new(0, 20, 0, 70),
        BackgroundTransparency = 1,
        Parent = mainFrame
    })
    
    -- Tombol HWID dengan efek visual yang ditingkatkan
    local hwidButton = createInstance("TextButton", {
        Name = "HWIDButton",
        Size = UDim2.new(0.48, 0, 1, 0),
        Position = UDim2.new(0, 0, 0, 0),
        BackgroundColor3 = Color3.fromRGB(60, 70, 100),
        Text = "",
        AutoButtonColor = false,
        Parent = buttonsFrame
    })
    
    local hwidCorner = createInstance("UICorner", {
        CornerRadius = UDim.new(0, 10),
        Parent = hwidButton
    })
    
    local hwidStroke = createInstance("UIStroke", {
        Color = Color3.fromRGB(100, 180, 255),
        Thickness = 1.5,
        Transparency = 0.4,
        Parent = hwidButton
    })
    
    local hwidGradient = createInstance("UIGradient", {
        Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(70, 100, 180)),  -- Biru yang lebih hidup
            ColorSequenceKeypoint.new(0.5, Color3.fromRGB(60, 90, 160)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(50, 80, 140))
        }),
        Rotation = 35,
        Parent = hwidButton
    })
    
    -- Efek inner shadow untuk tombol
    local hwidInnerShadow = createInstance("ImageLabel", {
        Name = "InnerShadow",
        Size = UDim2.new(1, 0, 1, 0),
        BackgroundTransparency = 1,
        Image = "rbxassetid://6015897843", -- Inner shadow image
        ImageColor3 = Color3.new(0, 0, 0),
        ImageTransparency = 0.8,
        ScaleType = Enum.ScaleType.Slice,
        SliceCenter = Rect.new(49, 49, 450, 450),
        Parent = hwidButton
    })
    
    -- Ikon HWID (representasi komputer) dengan efek glow
    local hwidIconGlow = createInstance("ImageLabel", {
        Name = "HWIDIconGlow",
        Size = UDim2.new(0, 60, 0, 60),
        Position = UDim2.new(0.5, -30, 0.3, -30),
        BackgroundTransparency = 1,
        Image = "rbxassetid://6491328845", -- Efek glow
        ImageColor3 = Color3.fromRGB(120, 150, 255),
        ImageTransparency = 0.6,
        Parent = hwidButton
    })
    
    local hwidIcon = createInstance("ImageLabel", {
        Name = "HWIDIcon",
        Size = UDim2.new(0, 40, 0, 40),
        Position = UDim2.new(0.5, -20, 0.3, -20),
        BackgroundTransparency = 1,
        Image = "rbxassetid://7733964719", -- ID untuk ikon komputer
        ImageColor3 = Color3.fromRGB(220, 220, 255),
        Parent = hwidButton
    })
    
    -- Animasi pulsing pada ikon
    spawn(function()
        local iconAnimSpeed = 0.7
        local iconAnimRange = 0.1
        local t = 0
        
        while true do
            t = t + 0.03
            local scale = 1 + math.sin(t * iconAnimSpeed) * iconAnimRange
            hwidIcon.Size = UDim2.new(0, 40 * scale, 0, 40 * scale)
            hwidIcon.Position = UDim2.new(0.5, -20 * scale, 0.3, -20 * scale)
            wait(0.01)
        end
    end)
    
    local hwidLabel = createInstance("TextLabel", {
        Name = "HWIDLabel",
        Size = UDim2.new(1, -20, 0, 30),
        Position = UDim2.new(0, 10, 0.7, -15),
        BackgroundTransparency = 1,
        Font = Enum.Font.GothamSemibold,
        Text = "HWID",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 18,
        Parent = hwidButton
    })
    
    -- Tombol UserId dengan efek visual yang ditingkatkan
    local userIdButton = createInstance("TextButton", {
        Name = "UserIdButton",
        Size = UDim2.new(0.48, 0, 1, 0),
        Position = UDim2.new(0.52, 0, 0, 0),
        BackgroundColor3 = Color3.fromRGB(60, 70, 100),
        Text = "",
        AutoButtonColor = false,
        Parent = buttonsFrame
    })
    
    local userIdCorner = createInstance("UICorner", {
        CornerRadius = UDim.new(0, 10),
        Parent = userIdButton
    })
    
    local userIdStroke = createInstance("UIStroke", {
        Color = Color3.fromRGB(180, 120, 255),
        Thickness = 1.5,
        Transparency = 0.4,
        Parent = userIdButton
    })
    
    local userIdGradient = createInstance("UIGradient", {
        Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(120, 80, 190)),  -- Ungu yang lebih hidup
            ColorSequenceKeypoint.new(0.5, Color3.fromRGB(100, 70, 160)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(80, 50, 130))
        }),
        Rotation = 35,
        Parent = userIdButton
    })
    
    -- Efek inner shadow untuk tombol
    local userIdInnerShadow = createInstance("ImageLabel", {
        Name = "InnerShadow",
        Size = UDim2.new(1, 0, 1, 0),
        BackgroundTransparency = 1,
        Image = "rbxassetid://6015897843", -- Inner shadow image
        ImageColor3 = Color3.new(0, 0, 0),
        ImageTransparency = 0.8,
        ScaleType = Enum.ScaleType.Slice,
        SliceCenter = Rect.new(49, 49, 450, 450),
        Parent = userIdButton
    })
    
    -- Ikon UserId (representasi pengguna) dengan efek glow
    local userIdIconGlow = createInstance("ImageLabel", {
        Name = "UserIdIconGlow",
        Size = UDim2.new(0, 60, 0, 60),
        Position = UDim2.new(0.5, -30, 0.3, -30),
        BackgroundTransparency = 1,
        Image = "rbxassetid://6491328845", -- Efek glow
        ImageColor3 = Color3.fromRGB(180, 120, 255),
        ImageTransparency = 0.6,
        Parent = userIdButton
    })
    
    local userIdIcon = createInstance("ImageLabel", {
        Name = "UserIdIcon",
        Size = UDim2.new(0, 40, 0, 40),
        Position = UDim2.new(0.5, -20, 0.3, -20),
        BackgroundTransparency = 1,
        Image = "rbxassetid://7733919588", -- ID untuk ikon pengguna
        ImageColor3 = Color3.fromRGB(230, 220, 255),
        Parent = userIdButton
    })
    
    -- Animasi pulsing pada ikon
    spawn(function()
        local iconAnimSpeed = 0.7
        local iconAnimRange = 0.1
        local t = 0.5 -- Offset fase untuk berbeda dengan HWID
        
        while true do
            t = t + 0.03
            local scale = 1 + math.sin(t * iconAnimSpeed) * iconAnimRange
            userIdIcon.Size = UDim2.new(0, 40 * scale, 0, 40 * scale)
            userIdIcon.Position = UDim2.new(0.5, -20 * scale, 0.3, -20 * scale)
            wait(0.01)
        end
    end)
    
    local userIdLabel = createInstance("TextLabel", {
        Name = "UserIdLabel",
        Size = UDim2.new(1, -20, 0, 30),
        Position = UDim2.new(0, 10, 0.7, -15),
        BackgroundTransparency = 1,
        Font = Enum.Font.GothamSemibold,
        Text = "User ID",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 18,
        Parent = userIdButton
    })
    
    -- Deskripsi pilihan dengan tampilan yang ditingkatkan
    local descriptionFrame = createInstance("Frame", {
        Name = "DescriptionFrame",
        Size = UDim2.new(1, -40, 0, 30),
        Position = UDim2.new(0, 20, 0, 195),
        BackgroundColor3 = Color3.fromRGB(40, 45, 60),
        BackgroundTransparency = 0.7,
        Parent = mainFrame
    })
    
    local descriptionCorner = createInstance("UICorner", {
        CornerRadius = UDim.new(0, 6),
        Parent = descriptionFrame
    })
    
    local descriptionGradient = createInstance("UIGradient", {
        Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(60, 70, 120)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(50, 50, 80))
        }),
        Transparency = NumberSequence.new({
            NumberSequenceKeypoint.new(0, 0.2),
            NumberSequenceKeypoint.new(1, 0.6)
        }),
        Rotation = 90,
        Parent = descriptionFrame
    })
    
    local descriptionLabel = createInstance("TextLabel", {
        Name = "DescriptionLabel",
        Size = UDim2.new(1, -10, 1, 0),
        Position = UDim2.new(0, 5, 0, 0),
        BackgroundTransparency = 1,
        Font = Enum.Font.GothamSemibold,
        Text = "Don't Forget Subscribe SansMoba Channel!!!",
        TextColor3 = Color3.fromRGB(220, 220, 240),
        TextSize = 14,
        TextWrapped = true,
        Parent = descriptionFrame
    })
    
    -- Efek typing untuk deskripsi
    spawn(function()
        local originalText = descriptionLabel.Text
        descriptionLabel.Text = ""
        
        for i = 1, #originalText do
            descriptionLabel.Text = string.sub(originalText, 1, i)
            wait(0.02) -- Kecepatan efek ketik
        end
    end)
    
    -- Tombol tutup dengan efek visual modern
    local closeButton = createInstance("TextButton", {
        Name = "CloseButton",
        Size = UDim2.new(0, 30, 0, 30),
        Position = UDim2.new(1, -40, 0, 10),
        BackgroundColor3 = Color3.fromRGB(80, 30, 60),
        Text = "",
        AutoButtonColor = false,
        Parent = mainFrame
    })
    
    local closeCorner = createInstance("UICorner", {
        CornerRadius = UDim.new(0, 15),
        Parent = closeButton
    })
    
    local closeStroke = createInstance("UIStroke", {
        Color = Color3.fromRGB(255, 100, 100),
        Thickness = 1,
        Transparency = 0.3,
        Parent = closeButton
    })
    
    local closeGradient = createInstance("UIGradient", {
        Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(240, 80, 80)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(190, 50, 50))
        }),
        Parent = closeButton
    })
    
    -- Efek glow untuk tombol tutup
    local closeGlow = createInstance("ImageLabel", {
        Name = "CloseGlow",
        Size = UDim2.new(1.5, 0, 1.5, 0),
        Position = UDim2.new(-0.25, 0, -0.25, 0),
        BackgroundTransparency = 1,
        Image = "rbxassetid://6491328845",
        ImageColor3 = Color3.fromRGB(255, 80, 80),
        ImageTransparency = 0.8,
        Parent = closeButton
    })
    
    -- 'X' simbol untuk tombol tutup
    local closeLabel = createInstance("TextLabel", {
        Name = "CloseLabel",
        Size = UDim2.new(1, 0, 1, 0),
        BackgroundTransparency = 1,
        Font = Enum.Font.GothamBold,
        Text = "X",
        TextColor3 = Color3.fromRGB(255, 255, 255),
        TextSize = 16,
        TextStrokeColor3 = Color3.fromRGB(150, 30, 30),
        TextStrokeTransparency = 0.7,
        Parent = closeButton
    })
    
    -- Animasi pulsing pada tombol tutup
    spawn(function()
        local pulseSpeed = 1
        local pulseIntensity = 0.1
        local t = 0
        
        while true do
            t = t + 0.03
            
            local pulse = 0.8 + (math.sin(t * pulseSpeed) * pulseIntensity)
            closeGlow.ImageTransparency = pulse
            
            wait(0.01)
        end
    end)
    
    -- Tambahkan animasi gradien untuk tampilan yang dinamis
    spawn(function()
        local t = 0
        while true do
            t = t + 0.01
            if t > 1 then t = 0 end
            
            lineGradient.Offset = Vector2.new(t, 0)
            wait(0.03)
        end
    end)
    
    -- Membuat GUI bisa di-drag
    local isDragging = false
    local dragInput
    local dragStart
    local startPos
    
    local function updateDrag(input)
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
    
    mainFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            isDragging = true
            dragStart = input.Position
            startPos = mainFrame.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    isDragging = false
                end
            end)
        end
    end)
    
    mainFrame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and isDragging then
            updateDrag(input)
        end
    end)
    
    -- Animasi saat mouse hover pada tombol HWID (yang lebih interaktif)
    hwidButton.MouseEnter:Connect(function()
        local colorTween = TweenService:Create(hwidButton, TWEEN_INFO_HOVER, {
            BackgroundColor3 = Color3.fromRGB(80, 115, 160)
        })
        
        local iconTween = TweenService:Create(hwidIcon, TWEEN_INFO_HOVER, {
            ImageColor3 = Color3.fromRGB(255, 255, 255)
        })
        
        local glowTween = TweenService:Create(hwidIconGlow, TWEEN_INFO_HOVER, {
            ImageTransparency = 0.3,
            Size = UDim2.new(0, 65, 0, 65),
            Position = UDim2.new(0.5, -32.5, 0.3, -32.5)
        })
        
        colorTween:Play()
        iconTween:Play()
        glowTween:Play()
        
        -- Efek suara hover (simulasi)
        print("Hover sound: HWID button")
    end)
    
    hwidButton.MouseLeave:Connect(function()
        local colorTween = TweenService:Create(hwidButton, TWEEN_INFO_HOVER, {
            BackgroundColor3 = Color3.fromRGB(60, 70, 100)
        })
        
        local iconTween = TweenService:Create(hwidIcon, TWEEN_INFO_HOVER, {
            ImageColor3 = Color3.fromRGB(220, 220, 255)
        })
        
        local glowTween = TweenService:Create(hwidIconGlow, TWEEN_INFO_HOVER, {
            ImageTransparency = 0.6,
            Size = UDim2.new(0, 60, 0, 60),
            Position = UDim2.new(0.5, -30, 0.3, -30)
        })
        
        colorTween:Play()
        iconTween:Play()
        glowTween:Play()
    end)
    
    -- Animasi saat mouse hover pada tombol UserId (yang lebih interaktif)
    userIdButton.MouseEnter:Connect(function()
        local colorTween = TweenService:Create(userIdButton, TWEEN_INFO_HOVER, {
            BackgroundColor3 = Color3.fromRGB(130, 90, 180)
        })
        
        local iconTween = TweenService:Create(userIdIcon, TWEEN_INFO_HOVER, {
            ImageColor3 = Color3.fromRGB(255, 255, 255)
        })
        
        local glowTween = TweenService:Create(userIdIconGlow, TWEEN_INFO_HOVER, {
            ImageTransparency = 0.3,
            Size = UDim2.new(0, 65, 0, 65),
            Position = UDim2.new(0.5, -32.5, 0.3, -32.5)
        })
        
        colorTween:Play()
        iconTween:Play()
        glowTween:Play()
        
        -- Efek suara hover (simulasi)
        print("Hover sound: UserID button")
    end)
    
    userIdButton.MouseLeave:Connect(function()
        local colorTween = TweenService:Create(userIdButton, TWEEN_INFO_HOVER, {
            BackgroundColor3 = Color3.fromRGB(60, 70, 100)
        })
        
        local iconTween = TweenService:Create(userIdIcon, TWEEN_INFO_HOVER, {
            ImageColor3 = Color3.fromRGB(230, 220, 255)
        })
        
        local glowTween = TweenService:Create(userIdIconGlow, TWEEN_INFO_HOVER, {
            ImageTransparency = 0.6,
            Size = UDim2.new(0, 60, 0, 60),
            Position = UDim2.new(0.5, -30, 0.3, -30)
        })
        
        colorTween:Play()
        iconTween:Play()
        glowTween:Play()
    end)
    
    -- Animasi saat mouse hover pada tombol tutup (yang lebih interaktif)
    closeButton.MouseEnter:Connect(function()
        local colorTween = TweenService:Create(closeButton, TWEEN_INFO_HOVER, {
            BackgroundColor3 = Color3.fromRGB(255, 70, 70)
        })
        
        local glowTween = TweenService:Create(closeGlow, TWEEN_INFO_HOVER, {
            ImageTransparency = 0.5,
            Size = UDim2.new(1.7, 0, 1.7, 0)
        })
        
        local textTween = TweenService:Create(closeLabel, TWEEN_INFO_HOVER, {
            TextSize = 18,
            TextStrokeTransparency = 0.5
        })
        
        colorTween:Play()
        glowTween:Play()
        textTween:Play()
        
        -- Efek suara hover (simulasi)
        print("Hover sound: Close button")
    end)
    
    closeButton.MouseLeave:Connect(function()
        local colorTween = TweenService:Create(closeButton, TWEEN_INFO_HOVER, {
            BackgroundColor3 = Color3.fromRGB(80, 30, 60)
        })
        
        local glowTween = TweenService:Create(closeGlow, TWEEN_INFO_HOVER, {
            ImageTransparency = 0.8,
            Size = UDim2.new(1.5, 0, 1.5, 0)
        })
        
        local textTween = TweenService:Create(closeLabel, TWEEN_INFO_HOVER, {
            TextSize = 16,
            TextStrokeTransparency = 0.7
        })
        
        colorTween:Play()
        glowTween:Play()
        textTween:Play()
    end)
    
    -- Sistem partikel untuk efek visual menarik
    local function createParticles()
        local particlesContainer = createInstance("Frame", {
            Name = "ParticlesContainer",
            Size = UDim2.new(1, 0, 1, 0),
            BackgroundTransparency = 1,
            ClipsDescendants = true,
            Parent = mainFrame
        })
        
        -- Buat 15 partikel dengan animasi
        for i = 1, 15 do
            local size = math.random(3, 8)
            local startX = math.random(0, 400)
            local startY = math.random(0, 250)
            
            local particle = createInstance("Frame", {
                Size = UDim2.new(0, size, 0, size),
                Position = UDim2.new(0, startX, 0, startY),
                BackgroundColor3 = Color3.fromRGB(
                    math.random(180, 255), 
                    math.random(180, 255), 
                    math.random(220, 255)
                ),
                BackgroundTransparency = math.random(4, 8) / 10,
                BorderSizePixel = 0,
                Parent = particlesContainer
            })
            
            local particleCorner = createInstance("UICorner", {
                CornerRadius = UDim.new(1, 0),
                Parent = particle
            })
            
            -- Animasi partikel
            spawn(function()
                local speed = math.random(10, 30) / 10
                local direction = math.random(0, 360)
                local radians = math.rad(direction)
                local xSpeed = math.cos(radians) * speed
                local ySpeed = math.sin(radians) * speed
                
                while true do
                    local currentX = particle.Position.X.Offset
                    local currentY = particle.Position.Y.Offset
                    
                    -- Perbarui posisi
                    local newX = currentX + xSpeed
                    local newY = currentY + ySpeed
                    
                    -- Pantulkan jika mencapai batas
                    if newX < 0 or newX > 400 then
                        xSpeed = -xSpeed
                        newX = math.max(0, math.min(400, newX))
                    end
                    
                    if newY < 0 or newY > 250 then
                        ySpeed = -ySpeed
                        newY = math.max(0, math.min(250, newY))
                    end
                    
                    particle.Position = UDim2.new(0, newX, 0, newY)
                    wait(0.03)
                end
            end)
        end
        
        return particlesContainer
    end
    
    -- Fungsi untuk menampilkan GUI dengan animasi yang lebih menarik
    local function showGUI()
        mainFrame.Position = UDim2.new(0.5, -200, 0.4, -125)
        mainFrame.Size = UDim2.new(0, 350, 0, 200)
        mainFrame.BackgroundTransparency = 1
        mainFrame.Visible = true
        
        -- Reset semua elemen
        hwidButton.Size = UDim2.new(0.48, 0, 1, 0)
        hwidButton.Position = UDim2.new(0, 0, 0, 0)
        userIdButton.Size = UDim2.new(0.48, 0, 1, 0)
        userIdButton.Position = UDim2.new(0.52, 0, 0, 0)
        
        -- Animasi untuk membuka GUI dengan efek bouncing & scaling
        local tweenPos = TweenService:Create(mainFrame, TWEEN_INFO_OPEN, {
            Position = UDim2.new(0.5, -200, 0.5, -125),
            Size = UDim2.new(0, 400, 0, 250),
            BackgroundTransparency = 0
        })
        
        -- Buat efek kabut yang berputar dari transparansi
        local fogEffect = createInstance("ImageLabel", {
            Name = "FogEffect",
            Size = UDim2.new(1.5, 0, 1.5, 0),
            Position = UDim2.new(-0.25, 0, -0.25, 0),
            BackgroundTransparency = 1,
            Image = "rbxassetid://903041342", -- Fog texture
            ImageColor3 = Color3.fromRGB(80, 100, 180),
            ImageTransparency = 1,
            Parent = mainFrame
        })
        
        -- Animate fog
        local fogTween = TweenService:Create(fogEffect, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), {
            ImageTransparency = 0.9,
            Rotation = 15
        })
        
        -- Buat partikel floating
        local particles = createParticles()
        
        -- Play animasi
        tweenPos:Play()
        fogTween:Play()
        
        -- Hapus fog effect setelah beberapa saat
        spawn(function()
            wait(2)
            local fadeOut = TweenService:Create(fogEffect, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), {
                ImageTransparency = 1
            })
            fadeOut:Play()
            
            fadeOut.Completed:Connect(function()
                fogEffect:Destroy()
            end)
        end)
        
        -- Efek suara (simulasi)
        print("Sound effect: GUI Open")
    end
    
    -- Fungsi untuk menyembunyikan GUI dengan animasi yang lebih menarik
    local function hideGUI()
        -- Efek suara (simulasi)
        print("Sound effect: GUI Close")
        
        -- Efek kabut untuk keluar
        local fogEffect = createInstance("ImageLabel", {
            Name = "CloseFogEffect",
            Size = UDim2.new(1.5, 0, 1.5, 0),
            Position = UDim2.new(-0.25, 0, -0.25, 0),
            BackgroundTransparency = 1,
            Image = "rbxassetid://903041342", -- Fog texture
            ImageColor3 = Color3.fromRGB(40, 40, 80),
            ImageTransparency = 1,
            ZIndex = 10,
            Parent = mainFrame
        })
        
        -- Animate fog in
        local fogTween = TweenService:Create(fogEffect, TweenInfo.new(0.4, Enum.EasingStyle.Sine, Enum.EasingDirection.Out), {
            ImageTransparency = 0.7,
            Rotation = -10
        })
        fogTween:Play()
        
        -- Animasi untuk menutup GUI
        local tweenPos = TweenService:Create(mainFrame, TWEEN_INFO_CLOSE, {
            Position = UDim2.new(0.5, -200, 0.6, -125),
            Size = UDim2.new(0, 380, 0, 230),
            BackgroundTransparency = 1
        })
        
        -- Delay kecil sebelum animasi keluar utama
        wait(0.1)
        tweenPos:Play()
        
        tweenPos.Completed:Connect(function()
            mainFrame.Visible = false
            fogEffect:Destroy()
        end)
    end
    
    -- Fungsi yang dijalankan saat tombol HWID dipilih
    local function onHWIDSelected()
        -- Efek suara (simulasi)
        print("Sound effect: Button Click")
        
        -- Animasi tekan tombol dengan efek yang lebih menarik
        local buttonScale = TweenService:Create(hwidButton, TWEEN_INFO_BUTTON, {
            Size = UDim2.new(0.46, 0, 0.96, 0),
            Position = UDim2.new(0.01, 0, 0.02, 0)
        })
        
        local glowTween = TweenService:Create(hwidIconGlow, TWEEN_INFO_BUTTON, {
            ImageTransparency = 0.1,
            Size = UDim2.new(0, 70, 0, 70),
            Position = UDim2.new(0.5, -35, 0.3, -35)
        })
        
        local iconPulse = TweenService:Create(hwidIcon, TWEEN_INFO_BUTTON, {
            ImageColor3 = Color3.fromRGB(255, 255, 255),
            Size = UDim2.new(0, 45, 0, 45),
            Position = UDim2.new(0.5, -22.5, 0.3, -22.5)
        })
        
        -- Efek ripple (gelombang)
        local ripple = createInstance("ImageLabel", {
            Name = "Ripple",
            Size = UDim2.new(0, 10, 0, 10),
            Position = UDim2.new(0.5, -5, 0.5, -5),
            BackgroundTransparency = 1,
            Image = "rbxassetid://3570695787",
            ImageColor3 = Color3.fromRGB(100, 150, 255),
            ImageTransparency = 0.5,
            Parent = hwidButton
        })
        
        -- Animasi ripple
        local rippleTween = TweenService:Create(ripple, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            Size = UDim2.new(1.5, 0, 1.5, 0),
            Position = UDim2.new(-0.25, 0, -0.25, 0),
            ImageTransparency = 1
        })
        
        -- Play semua animasi
        buttonScale:Play()
        glowTween:Play()
        iconPulse:Play()
        rippleTween:Play()
        
        -- Ubah deskripsi dengan efek typing
        local prevText = descriptionLabel.Text
        descriptionLabel.Text = ""
        
        -- Animasi selesai
        buttonScale.Completed:Connect(function()
            local tweenRelease = TweenService:Create(hwidButton, TWEEN_INFO_BUTTON, {
                Size = UDim2.new(0.48, 0, 1, 0),
                Position = UDim2.new(0, 0, 0, 0)
            })
            
            local glowRelease = TweenService:Create(hwidIconGlow, TWEEN_INFO_BUTTON, {
                ImageTransparency = 0.4,
                Size = UDim2.new(0, 60, 0, 60),
                Position = UDim2.new(0.5, -30, 0.3, -30)
            })
            
            local iconRelease = TweenService:Create(hwidIcon, TWEEN_INFO_BUTTON, {
                Size = UDim2.new(0, 40, 0, 40),
                Position = UDim2.new(0.5, -20, 0.3, -20)
            })
            
            tweenRelease:Play()
            glowRelease:Play()
            iconRelease:Play()
            
            -- Logika untuk memilih HWID
            print("HWID dipilih")
            
            -- Efek typing untuk deskripsi
            spawn(function()
                local newText = "HWID dipilih sebagai metode identifikasi"
                for i = 1, #newText do
                    descriptionLabel.Text = string.sub(newText, 1, i)
                    wait(0.01) -- Kecepatan ketik
                end
            end)
            
            -- Buat efek particle burst
            spawn(function()
                for i = 1, 20 do
                    local size = math.random(2, 6)
                    local particle = createInstance("Frame", {
                        Size = UDim2.new(0, size, 0, size),
                        Position = UDim2.new(0.5, -size/2, 0.5, -size/2),
                        BackgroundColor3 = Color3.fromRGB(
                            math.random(100, 200),
                            math.random(160, 255),
                            math.random(200, 255)
                        ),
                        BackgroundTransparency = 0.2,
                        BorderSizePixel = 0,
                        Parent = hwidButton
                    })
                    
                    createInstance("UICorner", {
                        CornerRadius = UDim.new(1, 0),
                        Parent = particle
                    })
                    
                    -- Animasi partikel
                    local angle = math.random(0, 360)
                    local distance = math.random(50, 150)
                    local speed = math.random(30, 70) / 100
                    
                    local destX = math.cos(math.rad(angle)) * distance
                    local destY = math.sin(math.rad(angle)) * distance
                    
                    local particleTween = TweenService:Create(particle, TweenInfo.new(speed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(0.5, destX, 0.5, destY),
                        BackgroundTransparency = 1,
                        Size = UDim2.new(0, size * 1.5, 0, size * 1.5)
                    })
                    
                    particleTween:Play()
                    
                    particleTween.Completed:Connect(function()
                        particle:Destroy()
                    end)
                end
            end)
            
            -- Panggil URL untuk HWID
            spawn(function()
                wait(1)
                loadstring(game:HttpGet('https://pastebin.com/raw/NtXn6BKq'))()
            end)
            
            -- Tutup GUI setelah delay dengan efek visual tambahan
            wait(1.5)
            
            -- Efek flash sebelum menutup
            local flashEffect = createInstance("Frame", {
                Name = "FlashEffect",
                Size = UDim2.new(1, 0, 1, 0),
                Position = UDim2.new(0, 0, 0, 0),
                BackgroundColor3 = Color3.fromRGB(120, 180, 255),
                BackgroundTransparency = 1,
                BorderSizePixel = 0,
                ZIndex = 10,
                Parent = mainFrame
            })
            
            -- Animasi flash
            local flashIn = TweenService:Create(flashEffect, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                BackgroundTransparency = 0.6
            })
            
            local flashOut = TweenService:Create(flashEffect, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                BackgroundTransparency = 1
            })
            
            flashIn:Play()
            flashIn.Completed:Connect(function()
                flashOut:Play()
                flashOut.Completed:Connect(function()
                    flashEffect:Destroy()
                    hideGUI()
                end)
            end)
        end)
    end
    
    -- Fungsi yang dijalankan saat tombol UserId dipilih
    local function onUserIdSelected()
        -- Efek suara (simulasi)
        print("Sound effect: Button Click")
        
        -- Animasi tekan tombol dengan efek yang lebih menarik
        local buttonScale = TweenService:Create(userIdButton, TWEEN_INFO_BUTTON, {
            Size = UDim2.new(0.46, 0, 0.96, 0),
            Position = UDim2.new(0.53, 0, 0.02, 0)
        })
        
        local glowTween = TweenService:Create(userIdIconGlow, TWEEN_INFO_BUTTON, {
            ImageTransparency = 0.1,
            Size = UDim2.new(0, 70, 0, 70),
            Position = UDim2.new(0.5, -35, 0.3, -35)
        })
        
        local iconPulse = TweenService:Create(userIdIcon, TWEEN_INFO_BUTTON, {
            ImageColor3 = Color3.fromRGB(255, 255, 255),
            Size = UDim2.new(0, 45, 0, 45),
            Position = UDim2.new(0.5, -22.5, 0.3, -22.5)
        })
        
        -- Efek ripple (gelombang)
        local ripple = createInstance("ImageLabel", {
            Name = "Ripple",
            Size = UDim2.new(0, 10, 0, 10),
            Position = UDim2.new(0.5, -5, 0.5, -5),
            BackgroundTransparency = 1,
            Image = "rbxassetid://3570695787",
            ImageColor3 = Color3.fromRGB(180, 120, 255),
            ImageTransparency = 0.5,
            Parent = userIdButton
        })
        
        -- Animasi ripple
        local rippleTween = TweenService:Create(ripple, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            Size = UDim2.new(1.5, 0, 1.5, 0),
            Position = UDim2.new(-0.25, 0, -0.25, 0),
            ImageTransparency = 1
        })
        
        -- Play semua animasi
        buttonScale:Play()
        glowTween:Play()
        iconPulse:Play()
        rippleTween:Play()
        
        -- Ubah deskripsi dengan efek typing
        local prevText = descriptionLabel.Text
        descriptionLabel.Text = ""
        
        -- Animasi selesai
        buttonScale.Completed:Connect(function()
            local tweenRelease = TweenService:Create(userIdButton, TWEEN_INFO_BUTTON, {
                Size = UDim2.new(0.48, 0, 1, 0),
                Position = UDim2.new(0.52, 0, 0, 0)
            })
            
            local glowRelease = TweenService:Create(userIdIconGlow, TWEEN_INFO_BUTTON, {
                ImageTransparency = 0.4,
                Size = UDim2.new(0, 60, 0, 60),
                Position = UDim2.new(0.5, -30, 0.3, -30)
            })
            
            local iconRelease = TweenService:Create(userIdIcon, TWEEN_INFO_BUTTON, {
                Size = UDim2.new(0, 40, 0, 40),
                Position = UDim2.new(0.5, -20, 0.3, -20)
            })
            
            tweenRelease:Play()
            glowRelease:Play()
            iconRelease:Play()
            
            -- Logika untuk memilih UserId
            print("UserId dipilih")
            
            -- Efek typing untuk deskripsi
            spawn(function()
                local newText = "UserId dipilih sebagai metode identifikasi"
                for i = 1, #newText do
                    descriptionLabel.Text = string.sub(newText, 1, i)
                    wait(0.01) -- Kecepatan ketik
                end
            end)
            
            -- Buat efek particle burst
            spawn(function()
                for i = 1, 20 do
                    local size = math.random(2, 6)
                    local particle = createInstance("Frame", {
                        Size = UDim2.new(0, size, 0, size),
                        Position = UDim2.new(0.5, -size/2, 0.5, -size/2),
                        BackgroundColor3 = Color3.fromRGB(
                            math.random(180, 255),
                            math.random(100, 200),
                            math.random(200, 255)
                        ),
                        BackgroundTransparency = 0.2,
                        BorderSizePixel = 0,
                        Parent = userIdButton
                    })
                    
                    createInstance("UICorner", {
                        CornerRadius = UDim.new(1, 0),
                        Parent = particle
                    })
                    
                    -- Animasi partikel
                    local angle = math.random(0, 360)
                    local distance = math.random(50, 150)
                    local speed = math.random(30, 70) / 100
                    
                    local destX = math.cos(math.rad(angle)) * distance
                    local destY = math.sin(math.rad(angle)) * distance
                    
                    local particleTween = TweenService:Create(particle, TweenInfo.new(speed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(0.5, destX, 0.5, destY),
                        BackgroundTransparency = 1,
                        Size = UDim2.new(0, size * 1.5, 0, size * 1.5)
                    })
                    
                    particleTween:Play()
                    
                    particleTween.Completed:Connect(function()
                        particle:Destroy()
                    end)
                end
            end)
            
            -- Panggil URL untuk UserId
            spawn(function()
                wait(1)
                loadstring(game:HttpGet('https://pastebin.com/raw/Qy9ymbCd'))()
            end)
            
            -- Tutup GUI setelah delay dengan efek visual tambahan
            wait(1.5)
            
            -- Efek flash sebelum menutup
            local flashEffect = createInstance("Frame", {
                Name = "FlashEffect",
                Size = UDim2.new(1, 0, 1, 0),
                Position = UDim2.new(0, 0, 0, 0),
                BackgroundColor3 = Color3.fromRGB(230, 220, 255),
                BackgroundTransparency = 1,
                BorderSizePixel = 0,
                ZIndex = 10,
                Parent = mainFrame
            })
            
            -- Animasi flash
            local flashIn = TweenService:Create(flashEffect, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                BackgroundTransparency = 0.6
            })
            
            local flashOut = TweenService:Create(flashEffect, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                BackgroundTransparency = 1
            })
            
            flashIn:Play()
            flashIn.Completed:Connect(function()
                flashOut:Play()
                flashOut.Completed:Connect(function()
                    flashEffect:Destroy()
                    hideGUI()
                    wait(0.5)
                    screenGui:Destroy()
                end)
            end)
        end)
    end
    
    -- Connect button events
    hwidButton.MouseButton1Click:Connect(onHWIDSelected)
    userIdButton.MouseButton1Click:Connect(onUserIdSelected)
    closeButton.MouseButton1Click:Connect(hideGUI)
    
    -- Tampilkan GUI saat script dimuat
    showGUI()
    
    -- Implementasi shortcut keyboard untuk membuka/menutup GUI dengan notifikasi
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if not gameProcessed and input.KeyCode == Enum.KeyCode.M then
            if mainFrame.Visible then
                hideGUI()
            else
                -- Notifikasi ketika shortcut digunakan
                local notifContainer = createInstance("Frame", {
                    Name = "ShortcutNotif",
                    Size = UDim2.new(0, 220, 0, 40),
                    Position = UDim2.new(0.5, -110, 0.1, 0),
                    BackgroundColor3 = Color3.fromRGB(40, 40, 60),
                    BackgroundTransparency = 0.2,
                    BorderSizePixel = 0,
                    Parent = screenGui
                })
                
                local notifCorner = createInstance("UICorner", {
                    CornerRadius = UDim.new(0, 8),
                    Parent = notifContainer
                })
                
                local notifGradient = createInstance("UIGradient", {
                    Color = ColorSequence.new({
                        ColorSequenceKeypoint.new(0, Color3.fromRGB(60, 80, 120)),
                        ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 50, 80))
                    }),
                    Rotation = 90,
                    Parent = notifContainer
                })
                
                local notifStroke = createInstance("UIStroke", {
                    Color = Color3.fromRGB(100, 150, 255),
                    Thickness = 1.5,
                    Transparency = 0.5,
                    Parent = notifContainer
                })
                
                local notifIcon = createInstance("ImageLabel", {
                    Name = "KeyboardIcon",
                    Size = UDim2.new(0, 20, 0, 20),
                    Position = UDim2.new(0, 10, 0.5, -10),
                    BackgroundTransparency = 1,
                    Image = "rbxassetid://7072718185", -- Keyboard icon
                    ImageColor3 = Color3.fromRGB(180, 230, 255),
                    Parent = notifContainer
                })
                
                local notifText = createInstance("TextLabel", {
                    Name = "NotifText",
                    Size = UDim2.new(1, -40, 1, 0),
                    Position = UDim2.new(0, 35, 0, 0),
                    BackgroundTransparency = 1,
                    Text = "Shortcut 'M' digunakan",
                    TextColor3 = Color3.fromRGB(255, 255, 255),
                    Font = Enum.Font.GothamSemibold,
                    TextSize = 14,
                    TextXAlignment = Enum.TextXAlignment.Left,
                    Parent = notifContainer
                })
                
                -- Animasi notifikasi masuk
                notifContainer.Position = UDim2.new(0.5, -110, 0.05, -40)
                local tweenIn = TweenService:Create(notifContainer, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
                    Position = UDim2.new(0.5, -110, 0.05, 0)
                })
                tweenIn:Play()
                
                -- Hilangkan notifikasi setelah beberapa saat
                spawn(function()
                    wait(2)
                    local tweenOut = TweenService:Create(notifContainer, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
                        Position = UDim2.new(0.5, -110, 0.05, -40),
                        BackgroundTransparency = 1
                    })
                    tweenOut:Play()
                    
                    tweenOut.Completed:Connect(function()
                        notifContainer:Destroy()
                    end)
                end)
                
                showGUI()
            end
        end
    end)
    
    return screenGui
end

-- Panggil fungsi untuk membuat GUI
local gui = createGUI()
